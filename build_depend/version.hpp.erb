<%

	# this file will incriment the build number in version.json whenever it's run
    # the inc_version recipe in the makefile runs this

	load 'build_depend/version_script.rb'

	$version_info = VersionInfo.new 'version.json'
	$header_info_comment_box = CommentBox.new $version_info.header_info

%>
<%= $header_info_comment_box %>

<%= $version_info.header_guard %>
<% $version_info.each do |key, value|
	%>#define <%= key.justify %>  <%= value %>
<% end
%>
inline void stream_version_info(std::ostream& stream)
{
	stream << FULL_NAME << " " << VERSION_STR << " build " << BUILD_NUM << std::endl;
}
<% if $version_info.header_guard %>
#endif
<% end %>
